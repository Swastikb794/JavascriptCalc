<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calculator - Swastik B</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="calculator">
            <h1>JavaScript <br><span>Age Calculator</span></h1>
            <div class="input-box">
                <input type="date" id="date">
                <button onclick="calculateAge()">Calculate</button>
            </div>
            <p id="result"></p>
        </div>
    </div>

    <section class="contact" id="contact">
        <h2 class="text-center">Suggestions</h2>
        <div class="form">
         <input id = "name" class="form-input" type="text" name="name" placeholder="Enter your name">
         <input id = "subject" class="form-input" type="text" name="subject" placeholder="Subject">
          <textarea id = "message" class="form-input" name="text" cols="30" rows="10" placeholder="Your message"></textarea>
         <button onclick="sendmail()" class="btn btn-sm btn-dark">Submit</button>
        </div>
     </section>


<script>

let userInput = document.getElementById("date");
userInput.max = new Date().toISOString().split("T")[0];
let result = document.getElementById("result");

function calculateAge(){
    let birthDate = new Date(userInput.value);

    let d1 = birthDate.getDate();
    let m1 = birthDate.getMonth() + 1;
    let y1 = birthDate.getFullYear();

    let today = new Date();

    let d2 = today.getDate();
    let m2 = today.getMonth() + 1;
    let y2 = today.getFullYear();

    let d3, m3, y3;

    y3 = y2 - y1;

    if(m2 >= m1){
        m3 = m2 -m1;
    }else{
        y3--;
        m3 = 12 + m2 - m1;
    }

    if(d2 >=d1){
        d3 = d2 - d1;
    }else{
        m3--;
        d3 = getDaysInMonth(y1, m1) + d2 - d1;
    }
    if(m3 < 0){
        m3 = 11;
        y3--;
    }
   result.innerHTML = `You Are <span>${y3}</span> years, <span>${m3}</span> months and <span>${d3}</span> days old`;

}

function getDaysInMonth(year, month){
    return new Date(year, month, 0).getDate();

}


function sendmail(){
    var command = "mailto";
    var email = "22g51.swastik@sjec.ac.in";
    var name = document.getElementById("name").value;
    var subject = document.getElementById("subject").value;
    var body = document.getElementById("message").value
    var send_str = command.concat(":", email, "?subject=", subject," -From:", name , "&body=", body);
    if ((name.length != 0) && (subject.length != 0) && (body.length != 0)){
        window.open(send_str);
    }
    else{
        if (name.length == 0){
            window.alert("Please enter your name.");
        }
        if (subject.length == 0){
            window.alert("Please enter your your subject of contact.");
        }
        if (body.length == 0){
            window.alert("Please enter your message.");
        }
    }
}


</script>
<footer class="backround">
    <p class="text-footer">
        Made with ❤️ <br>
        Copyright &copy; 2023 - Swastik B
    </p>
</footer>


</body>
</html>